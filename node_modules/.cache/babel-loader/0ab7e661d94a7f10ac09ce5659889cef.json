{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Juan/Desktop/Administraor-de-clientes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Juan/Desktop/Administraor-de-clientes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\Administraor-de-clientes\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from'react';import Cliente from'../components/Cliente';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Inicio=function Inicio(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),clientes=_useState2[0],setClientes=_useState2[1];useEffect(function(){var obtenerClientesApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var urlApi,respuesta,resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;urlApi=\"http://localhost:4000/clientes\";_context.next=4;return fetch(urlApi);case 4:respuesta=_context.sent;_context.next=7;return respuesta.json();case 7:resultado=_context.sent;setClientes(resultado);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function obtenerClientesApi(){return _ref.apply(this,arguments);};}();obtenerClientesApi();},[]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var url,respuesta,resultado,arrayClientes;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;url=\"http://localhost:4000/clientes/\".concat(id);_context2.next=4;return fetch(url,{method:'DELETE'});case 4:respuesta=_context2.sent;_context2.next=7;return respuesta.json();case 7:resultado=_context2.sent;arrayClientes=clientes.filter(function(cliente){return cliente.id!==id;});setClientes(arrayClientes);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"nuevo-cliente\",children:\"CLIENTES\"}),/*#__PURE__*/_jsx(\"p\",{className:\"llenar-los-campos\",children:\"Administra tus clientes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"contenedor-formulario\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-hover table-table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-table\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Contacto\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Empresa\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:clientes.map(function(cliente){return/*#__PURE__*/_jsx(Cliente,{cliente:cliente,handleSubmit:handleSubmit},cliente.id);})})]})})]});};export default Inicio;","map":{"version":3,"sources":["C:/Users/Juan/Desktop/Administraor-de-clientes/src/paginas/Inicio.jsx"],"names":["useEffect","useState","Cliente","Inicio","clientes","setClientes","obtenerClientesApi","urlApi","fetch","respuesta","json","resultado","console","log","handleSubmit","id","url","method","arrayClientes","filter","cliente","map"],"mappings":"wZAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,6IAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CAEjB,cAAiCF,QAAQ,CAAC,EAAD,CAAzC,wCAAOG,QAAP,eAAkBC,WAAlB,eAEAL,SAAS,CAAE,UAAM,CACf,GAAMM,CAAAA,kBAAkB,0FAAG,kLAEhBC,MAFgB,CAEP,gCAFO,uBAGEC,CAAAA,KAAK,CAACD,MAAD,CAHP,QAGhBE,SAHgB,qCAIEA,CAAAA,SAAS,CAACC,IAAV,EAJF,QAIhBC,SAJgB,eAKtBN,WAAW,CAACM,SAAD,CAAX,CALsB,iFAOtBC,OAAO,CAACC,GAAR,cAPsB,qEAAH,kBAAlBP,CAAAA,kBAAkB,0CAAxB,CAUIA,kBAAkB,GACvB,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMQ,CAAAA,YAAY,2FAAG,kBAAOC,EAAP,iLAGJC,GAHI,0CAGoCD,EAHpC,yBAIcP,CAAAA,KAAK,CAACQ,GAAD,CAAM,CACjCC,MAAM,CAAE,QADyB,CAAN,CAJnB,QAIJR,SAJI,uCAOcA,CAAAA,SAAS,CAACC,IAAV,EAPd,QAOJC,SAPI,gBAQJO,aARI,CAQYd,QAAQ,CAACe,MAAT,CAAiB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACL,EAAR,GAAeA,EAAnB,EAAxB,CARZ,CASVV,WAAW,CAACa,aAAD,CAAX,CATU,qFAWVN,OAAO,CAACC,GAAR,eAXU,uEAAH,kBAAZC,CAAAA,YAAY,6CAAlB,CAiBF,mBACG,wCACC,oCACI,WAAI,SAAS,CAAC,eAAd,sBADJ,cAEI,UAAG,SAAS,CAAC,mBAAb,qCAFJ,GADD,cAME,YAAK,SAAS,CAAC,uBAAf,uBACG,eAAO,SAAS,CAAC,0CAAjB,wBAEG,cAAO,SAAS,CAAC,aAAjB,uBACK,mCACE,WAAI,KAAK,CAAC,KAAV,oBADF,cAEE,WAAI,KAAK,CAAC,KAAV,sBAFF,cAGE,WAAI,KAAK,CAAC,KAAV,qBAHF,cAIE,WAAI,KAAK,CAAC,KAAV,sBAJF,GADL,EAFH,cAWG,uBACOV,QAAQ,CAACiB,GAAT,CAAc,SAAAD,OAAO,qBACrB,KAAC,OAAD,EAEI,OAAO,CAAGA,OAFd,CAGI,YAAY,CAAEN,YAHlB,EACSM,OAAO,CAACL,EADjB,CADqB,EAArB,CADP,EAXH,GADH,EANF,GADH,CAkCD,CArED,CAuEA,cAAeZ,CAAAA,MAAf","sourcesContent":["import {useEffect, useState, } from 'react'\r\nimport Cliente from '../components/Cliente'\r\n\r\n\r\n\r\nconst Inicio = () => {\r\n\r\n    const [clientes , setClientes] = useState([])\r\n\r\n    useEffect( () => {\r\n      const obtenerClientesApi = async () => {\r\n         try {\r\n           const urlApi = \"http://localhost:4000/clientes\"\r\n           const respuesta = await fetch(urlApi)\r\n           const resultado = await respuesta.json()\r\n           setClientes(resultado);\r\n         } catch (error) {\r\n           console.log(error);\r\n         }\r\n      }\r\n          obtenerClientesApi()\r\n    }, [] )\r\n\r\n    const handleSubmit = async (id) => {\r\n    \r\n             try {\r\n               const url = `http://localhost:4000/clientes/${id}`\r\n               const respuesta = await fetch(url, {\r\n                 method: 'DELETE'\r\n               })\r\n               const resultado = await respuesta.json()\r\n               const arrayClientes = clientes.filter( cliente => cliente.id !== id)\r\n               setClientes(arrayClientes)\r\n             } catch (error) {\r\n               console.log(error);\r\n             }\r\n          }\r\n      \r\n    \r\n\r\n  return (\r\n     <>\r\n      <div>\r\n          <h2 className='nuevo-cliente'>CLIENTES</h2>\r\n          <p className='llenar-los-campos'>Administra tus clientes</p>\r\n       </div>\r\n\r\n       <div className='contenedor-formulario'>\r\n          <table className='table table-dark table-hover table-table'>\r\n\r\n             <thead className='thead-table'>\r\n                  <tr>\r\n                    <th scope=\"col\" >Nombre</th>\r\n                    <th scope=\"col\" >Contacto</th>\r\n                    <th scope=\"col\" >Empresa</th>\r\n                    <th scope=\"col\" >Acciones</th>\r\n                  </tr>\r\n             </thead>\r\n\r\n             <tbody>\r\n                  { clientes.map( cliente => (\r\n                    <Cliente \r\n                        key={cliente.id}\r\n                        cliente= {cliente}\r\n                        handleSubmit={handleSubmit}\r\n                    />\r\n                  ) ) }\r\n             </tbody>\r\n\r\n          </table>\r\n       </div>\r\n\r\n     </>\r\n  )\r\n}\r\n\r\nexport default Inicio"]},"metadata":{},"sourceType":"module"}